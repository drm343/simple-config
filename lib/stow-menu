# stow-menu.sh
#
# Description: stow mode menu
#

help () {
    desk
    echo '
Install or Remove package by stow.'
}

function stow-add () {
    local install_package=`ls $PACKAGE | fzf`
    if [ -n "$install_package" ];
    then
        stow -d $PACKAGE -t $PROGRAM -S $install_package
        cd $INSTALLED && ln -s $PACKAGE/$install_package .
    fi
    echo $install_package
}

function stow-remove () {
    local remove_package=`ls $INSTALLED | fzf`
    stow -d $PACKAGE -t $PROGRAM -D $remove_package
    cd $INSTALLED && rm $remove_package
}

function stow-installed () {
    ls $INSTALLED | fzf
}


function stow-menu () {
    local result=`echo "stow-add
stow-remove
stow-installed
help
exit" | fzf`
    $result
}


alias m='stow-menu'
